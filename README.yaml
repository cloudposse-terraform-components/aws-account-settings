name: "aws-account-settings"
# Canonical GitHub repo
github_repo: "cloudposse-terraform-components/aws-account-settings"
# Short description of this project
introduction: |-
  > [!WARNING]
  > The latest version of this component (version 2) assumes you have Atmos Auth set up, and it has a very simple `providers.tf`.
  >
  > If you are still using `aws-teams` and `team-roles`, update your `component.yaml` to use `providers.depth-1.tf` from
  > [cloudposse-terraform-components/mixins](https://github.com/cloudposse-terraform-components/mixins/blob/main/src/mixins/providers.depth-1.tf) via:
  >
  > ```yaml
  > mixins:
  >   # Use upstream mixin for providers.tf without account-map dependency
  >   - uri: https://raw.githubusercontent.com/cloudposse-terraform-components/mixins/{{ .Version }}/src/mixins/providers.depth-1.tf
  >     version: v0.3.2
  >     filename: providers.tf
  > ```
  >
  > to overwrite the current one.

description: |-
  This component is responsible for provisioning account-level settings: AWS Account Alias, EBS encryption, S3 block public access, alternate contacts, SSM session preferences, EBS snapshot block public access, EC2 instance metadata defaults, EC2 AMI block public access, and EMR block public access configuration.
usage: |-
  **Stack Level**: Global

  Here's an example snippet for how to use this component. It's suggested to apply this component to all accounts, so
  create a file `stacks/catalog/account-settings.yaml` with the following content and then import that file in each
  account's global stack (overriding any parameters as needed):

  ```yaml
  components:
    terraform:
      account-settings:
        vars:
          enabled: true
          account_alias_enabled: true
          s3_block_public_access_enabled: true
          ebs_default_encryption_enabled: true
          ebs_snapshot_block_public_access_enabled: true
          ec2_instance_metadata_defaults_enabled: true
          ec2_image_block_public_access_enabled: true
          emr_block_public_access_enabled: true
          billing_contact:
            name: "John Doe"
            title: "CFO" 
            email_address: "billing@example.com"
            phone_number: "+1-555-123-4567"
          operations_contact:
            name: "Jane Smith"
            title: "DevOps Lead"
            email_address: "ops@example.com"
            phone_number: "+1-555-234-5678"
          security_contact:
            name: "Bob Wilson"
            title: "CISO"
            email_address: "security@example.com"
            phone_number: "+1-555-345-6789"
          ssm_session_preferences_enabled: true
          ssm_session_idle_timeout_minutes: 30
  ```

  <!-- prettier-ignore-start -->
  <!-- prettier-ignore-end -->
references:
  - name: cloudposse-terraform-components
    description: "Cloud Posse's upstream component"
    url: https://github.com/orgs/cloudposse-terraform-components/repositories
tags:
  - component/account-settings
  - layer/accounts
  - provider/aws
  - privileged
# Categories of this project
categories:
  - component/account-settings
  - layer/accounts
  - provider/aws
  - privileged
# License of this project
license: "APACHE2"
# Badges to display
badges:
  - name: Latest Release
    image: https://img.shields.io/github/release/cloudposse-terraform-components/aws-account-settings.svg?style=for-the-badge
    url: https://github.com/cloudposse-terraform-components/aws-account-settings/releases/latest
  - name: Slack Community
    image: https://slack.cloudposse.com/for-the-badge.svg
    url: https://slack.cloudposse.com
related:
  - name: "Cloud Posse Terraform Modules"
    description: Our collection of reusable Terraform modules used by our reference architectures.
    url: "https://docs.cloudposse.com/modules/"
  - name: "Atmos"
    description: "Atmos is like docker-compose but for your infrastructure"
    url: "https://atmos.tools"
contributors: [] # If included generates contribs
